<!-- Lead Generation Form Component -->
<!-- Add this to any page where you want to capture leads -->

<div id="lead-form-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999;">
    <div style="background: white; max-width: 500px; margin: 50px auto; padding: 2rem; border-radius: 1rem; position: relative;">
        <button onclick="closeLeadForm()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer;">Ã—</button>
        
        <h2 style="margin-bottom: 1rem;">Get Your Free AI Chatbot Demo</h2>
        <p style="color: #6b7280; margin-bottom: 2rem;">See how AI can transform your customer service in just 15 minutes</p>
        
        <form id="demo-lead-form" onsubmit="handleLeadSubmit(event)">
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Business Name</label>
                <input type="text" name="business_name" required style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.5rem;">
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Your Name</label>
                <input type="text" name="contact_name" required style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.5rem;">
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Email</label>
                <input type="email" name="email" required style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.5rem;">
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Phone</label>
                <input type="tel" name="phone" required style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.5rem;">
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Industry</label>
                <select name="industry" required style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.5rem;">
                    <option value="">Select your industry</option>
                    <option value="healthcare">Healthcare/Medical</option>
                    <option value="legal">Legal/Law Firm</option>
                    <option value="retail">Retail/E-commerce</option>
                    <option value="realestate">Real Estate</option>
                    <option value="fitness">Fitness/Wellness</option>
                    <option value="restaurant">Restaurant/Food Service</option>
                    <option value="other">Other</option>
                </select>
            </div>
            
            <div style="margin-bottom: 1.5rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">What's your biggest customer service challenge?</label>
                <textarea name="challenge" rows="3" required style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.5rem;"></textarea>
            </div>
            
            <button type="submit" style="width: 100%; background: #2563eb; color: white; padding: 1rem; border: none; border-radius: 0.5rem; font-weight: 600; cursor: pointer;">
                Book My Free Demo
            </button>
            
            <p style="text-align: center; margin-top: 1rem; color: #6b7280; font-size: 0.875rem;">
                ðŸ”’ Your information is secure and never shared
            </p>
        </form>
    </div>
</div>

<script>
// Lead Form Functionality
function showLeadForm() {
    document.getElementById('lead-form-modal').style.display = 'block';
}

function closeLeadForm() {
    document.getElementById('lead-form-modal').style.display = 'none';
}

async function handleLeadSubmit(event) {
    event.preventDefault();
    
    const formData = new FormData(event.target);
    const data = Object.fromEntries(formData);
    
    // Add timestamp and source
    data.timestamp = new Date().toISOString();
    data.source = window.location.pathname;
    data.utm_source = new URLSearchParams(window.location.search).get('utm_source') || 'direct';
    
    try {
        // Send to BotPenguin webhook (configure after getting account)
        // await fetch('YOUR_BOTPENGUIN_WEBHOOK_URL', {
        //     method: 'POST',
        //     headers: {'Content-Type': 'application/json'},
        //     body: JSON.stringify(data)
        // });
        
        // For now, log to console and show success
        console.log('Lead captured:', data);
        
        // Show success message
        event.target.innerHTML = `
            <div style="text-align: center; padding: 2rem;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
                <h3 style="margin-bottom: 1rem;">Demo Scheduled!</h3>
                <p>We'll contact you within 2 hours to confirm your demo time.</p>
            </div>
        `;
        
        // Close form after 3 seconds
        setTimeout(closeLeadForm, 3000);
        
    } catch (error) {
        console.error('Error submitting form:', error);
        alert('There was an error. Please try again or email us directly.');
    }
}

// Show form after 30 seconds on page
setTimeout(() => {
    if (!sessionStorage.getItem('lead_form_shown')) {
        showLeadForm();
        sessionStorage.setItem('lead_form_shown', 'true');
    }
}, 30000);

// Exit intent popup
document.addEventListener('mouseleave', (e) => {
    if (e.clientY <= 0 && !localStorage.getItem('lead_captured')) {
        showLeadForm();
    }
});
</script>